(self.webpackChunkaerowork=self.webpackChunkaerowork||[]).push([[7333],{7333:function(o,n,t){"use strict";t.r(n),t.d(n,{LoginPageModule:function(){return l}});var e=t(1116),i=t(1041),r=t(4812),g=t(4258),a=t(6570),c=t(752),u=t(7686),s=[{path:"",component:function(){function o(o,n,t,e){var r=this;this.builder=o,this.configurationService=n,this.operatorService=t,this.router=e,this.state="default",this.loginForm=o.group({pin_no:["",i.kI.required]}),this.configurationService.get("operator").then(function(o){console.log("[LoginPage] constructor() :: ",o),null!=o&&r.router.navigateByUrl("/tabs")})}return o.prototype.ngOnInit=function(){},o.prototype.onSubmit=function(o){var n=this;console.log("[LoginPage] - onSubmit() :: Attempt to login ",o),this.state="working",this.operatorService.findByPinCode(o.pin_no).then(function(o){console.log(o),1==o.res.rows.length?(console.log("[LoginPage] - onSubmit() :: Found operator for the provided PIN",o.res.rows.item(0)),n.configurationService.set("operator",o.res.rows.item(0)).then(function(t){console.log("[LoginPage] - onSubmit() :: Current operator set in config to:",o.res.rows.item(0)),n.state="default",n.router.navigateByUrl("/tabs")},function(o){console.log("[LoginPage] - onSubmit() :: Failed to set the current operator to config:",o),n.state="default",n.configurationService.remove("operator")})):(console.log("[LoginPage] - onSubmit() :: Found incorrect number of operators for the provided PIN",o.res.rows.length),n.state="default",n.configurationService.remove("operator"))},function(o){console.log("[LoginPage] - onSubmit() :: Failed to find operator for the provided PIN",o),n.state="default",n.configurationService.remove("operator")})},o.\u0275fac=function(n){return new(n||o)(a.Y36(i.qu),a.Y36(c.e),a.Y36(u.p),a.Y36(g.F0))},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-login"]],decls:13,vars:2,consts:[["padding","",1,"form","login"],[1,"logo-image"],["src","assets/logo.png"],[3,"formGroup","submit"],["floating",""],["type","number","formControlName","pin_no",1,"numeric-password","text-centre"],["type","submit","expand","block",3,"disabled"],["name","log-in"],[1,"app-version"]],template:function(o,n){1&o&&(a.TgZ(0,"ion-content",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"form",3),a.NdJ("submit",function(){return n.onSubmit(n.loginForm.value)}),a.TgZ(4,"ion-item"),a.TgZ(5,"ion-label",4),a._uU(6,"PIN"),a.qZA(),a._UZ(7,"ion-input",5),a.qZA(),a.TgZ(8,"ion-button",6),a._UZ(9,"ion-icon",7),a._uU(10," Login"),a.qZA(),a.qZA(),a.TgZ(11,"div",8),a._uU(12,"Version 0.0.20"),a.qZA(),a.qZA()),2&o&&(a.xp6(3),a.Q6J("formGroup",n.loginForm),a.xp6(5),a.Q6J("disabled","working"==n.state))},directives:[r.W2,i._Y,i.JL,i.sg,r.Ie,r.Q$,r.pK,r.as,i.JJ,i.u,r.YG,r.gu],styles:[".logo-image[_ngcontent-%COMP%]{text-align:center;margin-top:100px;padding:0 20px}.logo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}ion-content.form.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20px;padding:0 10px}.numeric-password[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-webkit-text-security:disc}.login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px}.login[_ngcontent-%COMP%]   .button.ios[_ngcontent-%COMP%]{--background:#02ad59!important}.app-version[_ngcontent-%COMP%]{font-size:12px;opacity:.5;text-align:center;margin-top:40px}"]}),o}()}],p=function(){function o(){}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[[g.Bz.forChild(s)],g.Bz]}),o}(),l=function(){function o(){}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[[e.ez,i.u5,r.Pc,p,i.UX]]}),o}()}}]);